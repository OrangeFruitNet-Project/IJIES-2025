# YOLOv4 configuration for OrangeFruitNet experiments
# Based on Darknet-53 backbone, as per manuscript Section 3.3

[net]
batch=64
subdivisions=16
width=640
height=640
channels=3
momentum=0.937           # Î²1
decay=0.0005
learning_rate=0.001
burn_in=1000
max_batches=40000
policy=cosine
angle=15                 # rotation augmentation
brightness=0.15
flip=1
hue=0.05
saturation=1.5
exposure=1.5
mosaic=1
random=1
seed=42
save_weights_period=10

# Pretrained weights
weights=../weights/yolov4.conv.137

# Paths
train=../dataset/train.txt
valid=../dataset/val.txt
names=../dataset/orangefruitnet.names
backup=../runs/yolov4_orangefruitnet/

# Detection heads and anchors
[convolutional]
batch_normalize=1
filters=255
size=1
stride=1
pad=1
activation=linear

[yolo]
mask = 6,7,8
anchors = 10,13, 16,30, 33,23, 30,61, 62,45, 59,119, 116,90, 156,198, 373,326
classes=1
num=9
jitter=.3
ignore_thresh = .7
truth_thresh = 1
random=1
